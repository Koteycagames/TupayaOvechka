<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–£—Ä–æ–≤–Ω–∏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>–í–´–ë–ï–†–ò –£–†–û–í–ï–ù–¨</h1>
    <div id="levels-list" class="levels-scroll"></div>
    <button class="menu-btn" onclick="location.href='main.html'">–ù–ê–ó–ê–î</button>

    <script>
        // coinChance - —ç—Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è –º–æ–Ω–µ—Ç—ã (–æ—Ç 0.01 –¥–æ 0.1)
        const LEVELS = [
            { id: 1, name: "–õ—É–≥", goal: 15, gap: 450, coinChance: 0.01 },
            { id: 2, name: "–ü–æ–ª–µ", goal: 25, gap: 400, coinChance: 0.015 },
            { id: 3, name: "–¢—Ä–æ–ø–∞", goal: 40, gap: 350, coinChance: 0.02 },
            { id: 4, name: "–û–≥–æ—Ä–æ–¥", goal: 55, gap: 300, coinChance: 0.03 },
            { id: 5, name: "–•–æ–ª–º—ã", goal: 70, gap: 260, coinChance: 0.04 },
            { id: 6, name: "–õ–µ—Å", goal: 90, gap: 230, coinChance: 0.05 },
            { id: 7, name: "–°–∫–∞–ª—ã", goal: 110, gap: 200, coinChance: 0.06 },
            { id: 8, name: "–ë–æ–ª–æ—Ç–æ", goal: 130, gap: 185, coinChance: 0.07 },
            { id: 9, name: "–¢—å–º–∞", goal: 160, gap: 170, coinChance: 0.08 },
            { id: 10, name: "–ê–î", goal: 200, gap: 155, coinChance: 0.1 }
        ];

        const list = document.getElementById('levels-list');
        const completed = JSON.parse(localStorage.getItem('completedLevels') || "[]");

        LEVELS.forEach(lvl => {
            const isDone = completed.includes(lvl.id);
            // –ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞—Å—á–µ—Ç: —á–µ–º –≤—ã—à–µ —à–∞–Ω—Å –∏ –¥–ª–∏–Ω–Ω–µ–µ —É—Ä–æ–≤–µ–Ω—å, —Ç–µ–º –±–æ–ª—å—à–µ –º–æ–Ω–µ—Ç
            const potential = Math.floor(lvl.goal * lvl.coinChance * 100); 
            
            const div = document.createElement('div');
            div.className = "level-row" + (isDone ? " done" : "");
            div.style.padding = "15px";
            div.style.borderBottom = "1px solid #ccc";
            div.style.cursor = "pointer";
            div.style.display = "flex";
            div.style.justifyContent = "space-between";
            div.style.alignItems = "center";
            
            div.innerHTML = `
                <div style="text-align: left;">
                    <b>${lvl.id}. ${lvl.name}</b><br>
                    <small style="color: #666;">–¶–µ–ª—å: ${lvl.goal} –º. | –ü—Ä–∏–º–µ—Ä–Ω–æ –º–æ–Ω–µ—Ç: ~${potential} üí∞</small>
                </div>
                <span>${isDone ? '‚úÖ' : '‚ùå'}</span>
            `;

            div.onclick = () => {
                localStorage.setItem('currentLevelData', JSON.stringify(lvl));
                location.href = 'game.html';
            };
            list.appendChild(div);
        });
    </script>
</body>
</html>
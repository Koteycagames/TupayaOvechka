<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–°–∫–∏–Ω—ã</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>–ú–ê–ì–ê–ó–ò–ù</h1>
    <div id="wallet" style="font-weight: bold; color: gold; font-size: 20px; margin-bottom: 20px;">–ó–æ–ª–æ—Ç–æ: 0</div>
    <div id="shop-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;"></div>
    <button class="menu-btn" onclick="location.href='index.html'" style="margin-top: 20px;">–ù–ê–ó–ê–î</button>

    <script>
        const SKINS = [
            { id: 'baran', name: '–û–≤—Ü–∞', price: 0 },
            { id: 'korova', name: '–ö–æ—Ä–æ–≤–∞', price: 50 },
            { id: 'pig', name: '–°–≤–∏–Ω—å—è', price: 100 },
            { id: 'chicken', name: '–ö—É—Ä–∏—Ü–∞', price: 200 }
        ];

        let coins = parseInt(localStorage.getItem('dinoCoins')) || 0;
        let owned = JSON.parse(localStorage.getItem('ownedSkins') || '["baran"]');
        let active = localStorage.getItem('activeSkin') || 'baran';

        const container = document.getElementById('shop-container');
        document.getElementById('wallet').innerText = "–ó–æ–ª–æ—Ç–æ: " + coins;

        SKINS.forEach(s => {
            const isOwned = owned.includes(s.id);
            const isActive = active === s.id;
            const item = document.createElement('div');
            // –í–æ–∑–≤—Ä–∞—â–µ–Ω —Å—Ç–∏–ª—å –∏–∑ –≤–∞—à–µ–≥–æ —Ñ–∞–π–ª–∞
            item.style.border = "2px solid #000";
            item.style.padding = "10px";
            item.innerHTML = `
                <b>${s.name}</b><br>
                <img src="${s.id}.png" style="height: 40px; margin: 10px 0;"><br>
                <button class="menu-btn" style="width: 120px; padding: 10px;" onclick="buy('${s.id}', ${s.price})">
                    ${isActive ? '–ê–ö–¢–ò–í' : (isOwned ? '–í–´–ë–†–ê–¢–¨' : s.price + ' üí∞')}
                </button>
            `;
            container.appendChild(item);
        });

        window.buy = (id, price) => {
            if (owned.includes(id)) {
                localStorage.setItem('activeSkin', id);
            } else if (coins >= price) {
                coins -= price;
                owned.push(id);
                localStorage.setItem('dinoCoins', coins);
                localStorage.setItem('ownedSkins', JSON.stringify(owned));
                localStorage.setItem('activeSkin', id);
            }
            location.reload();
        };
    </script>
</body>
</html>
